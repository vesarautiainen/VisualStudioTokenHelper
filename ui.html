<h2>Component Token Finder</h2>
<div>
  <div id="token-list"></div>
  <button id="create-typography-all">Create font annotations</button>
</div>

<script>
onmessage = (event) => {
  console.log("got this from the plugin code", event.data.pluginMessage)
  listTokens(event.data.pluginMessage)
}

function listTokens(tokenstring) {
  var splitted = tokenstring.split("TokenId:");  
  var list = document.getElementById('token-list');

  splitted.forEach(function (value) {
    list.innerHTML += value + "<br>"; 
  }); 
}

document.getElementById('create-typography-all').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'create-typography-annotation-all'} }, '*')
}

/**
document.getElementById('cancel').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
}
*/

</script>
